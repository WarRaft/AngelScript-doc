# Деструктор класса

Обычно нет необходимости реализовывать деструктор класса, поскольку по умолчанию освобождаются все ресурсы,
которыми располагает объект при его уничтожении. Однако могут возникнуть ситуации, когда при уничтожении объекта
необходимо выполнить более явную процедуру очистки.

Деструктор объявляется так же, как и [конструктор по умолчанию](constructor-default.md), за исключением того, что перед
ним должен стоять символ `~`.

```C#
class A {
    string s;

    A(string s){
        [[[this|this.md]]].s = s;
    }
    
    ~A(){
        print(s);
    }
}

A a("a"); // Класс, присвоеный [[[глобальной переменной|var.md#global]]] не будет уничтожен до конца игры 

void [[[main|main.md]]](){
    A b("b");
    print("1");
    // После исполнения функции будет вызван деструктор
    // В консоль будет выведено 1b
}
```

> Невозможно с приемлемой точностью предсказать когда будет выполнен деструктор. Не полагайтесь на него в бизнес-логике!
>
> Создание или удаления объектов типа [](handle.md) в деструкторе гарантировано приведёт к десинху!
>
{style="warning"}

Деструктор будет вызван только один раз, даже
если объект будет воскрешен путем добавления ссылки на него во время выполнения деструктора.

Невозможно напрямую вызвать деструктор. Если вам нужно иметь возможность напрямую вызывать деструктор, то для этого
следует реализовать публичный метод.